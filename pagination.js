
let emailContacts = [
    {
      "id": "1",
      "name": "Lura Senger",
      "email": "Xander_Collier@yahoo.com"
    },
    {
      "id": "2",
      "name": "Wilburn Weber",
      "email": "Bennett_Kreiger11@yahoo.com"
    },
    {
      "id": "3",
      "name": "Tyrique Hahn",
      "email": "Juston.Altenwerth@yahoo.com"
    },
    {
      "id": "4",
      "name": "Lenny Bailey",
      "email": "Guiseppe_Hegmann@yahoo.com"
    },
    {
      "id": "5",
      "name": "Vladimir Keeling",
      "email": "Louisa_Walsh18@hotmail.com"
    },
    {
      "id": "6",
      "name": "Kellie Crona",
      "email": "Chandler_Abernathy@yahoo.com"
    },
    {
      "id": "7",
      "name": "Carolina White",
      "email": "Royal50@hotmail.com"
    },
    {
      "id": "8",
      "name": "Alfredo Conn",
      "email": "Clarabelle34@hotmail.com"
    },
    {
      "id": "9",
      "name": "Stan Shanahan",
      "email": "Lamar.McClure@hotmail.com"
    },
    {
      "id": "10",
      "name": "Marvin Fay",
      "email": "Osbaldo58@hotmail.com"
    },
    {
      "id": "11",
      "name": "Torrance Rau",
      "email": "Orin45@gmail.com"
    },
    {
      "id": "12",
      "name": "Harold Gutmann MD",
      "email": "Alyce.Stracke37@yahoo.com"
    },
    {
      "id": "13",
      "name": "Taryn Torphy",
      "email": "Dean_Breitenberg71@hotmail.com"
    },
    {
      "id": "14",
      "name": "Bryana Lang",
      "email": "Tatum.Ullrich@yahoo.com"
    },
    {
      "id": "15",
      "name": "Nyasia Green DDS",
      "email": "Dino83@gmail.com"
    },
    {
      "id": "16",
      "name": "Nasir Gerhold",
      "email": "Lilian_Bashirian8@hotmail.com"
    },
    {
      "id": "17",
      "name": "Raymundo Ritchie PhD",
      "email": "Antwan.Schoen15@yahoo.com"
    },
    {
      "id": "18",
      "name": "Delmer Marvin",
      "email": "Kiera62@yahoo.com"
    },
    {
      "id": "19",
      "name": "Rachel Wilkinson",
      "email": "Foster_Conroy@gmail.com"
    },
    {
      "id": "20",
      "name": "Gladys Howell",
      "email": "Constance.Labadie10@yahoo.com"
    },
    {
      "id": "21",
      "name": "Ciara Klocko",
      "email": "Harvey76@yahoo.com"
    },
    {
      "id": "22",
      "name": "Quentin O'Kon",
      "email": "Amely_Cummings2@yahoo.com"
    },
    {
      "id": "23",
      "name": "Ms. Gabriella Kunde",
      "email": "Lorenza_Cummerata@hotmail.com"
    },
    {
      "id": "24",
      "name": "Gerald Reilly",
      "email": "Lia_Konopelski@gmail.com"
    },
    {
      "id": "25",
      "name": "Brody Carter I",
      "email": "Colten.Wilderman90@hotmail.com"
    },
    {
      "id": "26",
      "name": "Alanis Klocko",
      "email": "Johathan.Champlin69@gmail.com"
    },
    {
      "id": "27",
      "name": "Caroline Miller",
      "email": "Delaney.Kozey74@gmail.com"
    },
    {
      "id": "28",
      "name": "Ms. Merritt McClure",
      "email": "Wendy.Zieme@gmail.com"
    },
    {
      "id": "29",
      "name": "Jovani Schoen",
      "email": "Norval_Zieme@hotmail.com"
    },
    {
      "id": "30",
      "name": "Berniece Bradtke",
      "email": "Okey.Fisher39@hotmail.com"
    },
    {
      "id": "31",
      "name": "Hanna Gottlieb",
      "email": "Edna62@hotmail.com"
    },
    {
      "id": "32",
      "name": "Christiana Bergnaum",
      "email": "Donnie.Paucek22@gmail.com"
    },
    {
      "id": "33",
      "name": "Reid Stehr",
      "email": "Hiram69@gmail.com"
    },
    {
      "id": "34",
      "name": "Evans Ward",
      "email": "Liliane72@hotmail.com"
    },
    {
      "id": "35",
      "name": "Miss Enos Davis",
      "email": "Kolby.Grady@hotmail.com"
    },
    {
      "id": "36",
      "name": "Mathew Lueilwitz",
      "email": "Mariah.Hagenes@yahoo.com"
    },
    {
      "id": "37",
      "name": "Romaine Robel",
      "email": "Sheila19@yahoo.com"
    },
    {
      "id": "38",
      "name": "Immanuel Aufderhar",
      "email": "Aileen32@hotmail.com"
    },
    {
      "id": "39",
      "name": "Julius Reilly Jr.",
      "email": "Santa89@yahoo.com"
    },
    {
      "id": "40",
      "name": "Linnea Borer",
      "email": "Jarrett_Hegmann2@hotmail.com"
    },
    {
      "id": "41",
      "name": "Misael Abernathy IV",
      "email": "Robbie42@yahoo.com"
    },
    {
      "id": "42",
      "name": "Mr. Gerda Jerde",
      "email": "Gustave36@hotmail.com"
    },
    {
      "id": "43",
      "name": "Easton Daugherty",
      "email": "Malcolm.Schuster11@hotmail.com"
    },
    {
      "id": "44",
      "name": "Leanna Gutkowski",
      "email": "Chelsea9@gmail.com"
    },
    {
      "id": "45",
      "name": "Rollin Trantow",
      "email": "Marques_Hickle26@gmail.com"
    },
    {
      "id": "46",
      "name": "Heaven Luettgen",
      "email": "Lonnie.Greenfelder95@hotmail.com"
    },
    {
      "id": "47",
      "name": "Gilda Huel",
      "email": "Stephania.Hintz@gmail.com"
    },
    {
      "id": "48",
      "name": "Javon Walker",
      "email": "Lamar_Bailey39@yahoo.com"
    },
    {
      "id": "49",
      "name": "Stewart King",
      "email": "Chasity_Jenkins82@gmail.com"
    },
    {
      "id": "50",
      "name": "Cortez Lueilwitz",
      "email": "Lelia.Mitchell43@gmail.com"
    },
    {
      "id": "51",
      "name": "Ora Kilback",
      "email": "Matt25@gmail.com"
    },
    {
      "id": "52",
      "name": "Lera Macejkovic",
      "email": "Jamal.Donnelly45@hotmail.com"
    },
    {
      "id": "53",
      "name": "Asa Gottlieb",
      "email": "Carolyne.Langosh@yahoo.com"
    },
    {
      "id": "54",
      "name": "Avery Nienow",
      "email": "Hudson_Bernhard47@yahoo.com"
    },
    {
      "id": "55",
      "name": "Dr. Katrine Ryan",
      "email": "Colten40@gmail.com"
    },
    {
      "id": "56",
      "name": "Florida Kulas",
      "email": "Alejandra_Bernhard@yahoo.com"
    },
    {
      "id": "57",
      "name": "Mauricio Gerlach",
      "email": "Vincenza_Gusikowski84@hotmail.com"
    },
    {
      "id": "58",
      "name": "Chadrick Simonis",
      "email": "Reymundo.Doyle@gmail.com"
    },
    {
      "id": "59",
      "name": "Beau Jenkins",
      "email": "Cletus65@hotmail.com"
    },
    {
      "id": "60",
      "name": "Camilla Cole",
      "email": "Eda48@yahoo.com"
    },
    {
      "id": "61",
      "name": "Abagail MacGyver",
      "email": "Jevon.Koch@hotmail.com"
    },
    {
      "id": "62",
      "name": "Ludwig Prohaska",
      "email": "Eldon_DuBuque37@yahoo.com"
    },
    {
      "id": "63",
      "name": "Berenice Hane",
      "email": "Lonnie3@gmail.com"
    },
    {
      "id": "64",
      "name": "Abel Durgan",
      "email": "Marlee.Weimann42@gmail.com"
    },
    {
      "id": "65",
      "name": "Tate Kuhlman",
      "email": "Hope31@yahoo.com"
    },
    {
      "id": "66",
      "name": "Mrs. Hermina Daniel",
      "email": "Murphy59@yahoo.com"
    },
    {
      "id": "67",
      "name": "Marcelino Nienow",
      "email": "Estefania_Dibbert97@hotmail.com"
    },
    {
      "id": "68",
      "name": "Raphaelle Connelly",
      "email": "Josie.Legros70@yahoo.com"
    },
    {
      "id": "69",
      "name": "Mina Heaney",
      "email": "Pete.Hermann79@hotmail.com"
    },
    {
      "id": "70",
      "name": "Jaida Torp",
      "email": "Jonatan82@yahoo.com"
    },
    {
      "id": "71",
      "name": "Megane Fadel",
      "email": "Dandre82@yahoo.com"
    },
    {
      "id": "72",
      "name": "Angelo Schimmel V",
      "email": "Frederic54@hotmail.com"
    },
    {
      "id": "73",
      "name": "Jaren Ferry DDS",
      "email": "Kristian.Kilback@yahoo.com"
    },
    {
      "id": "74",
      "name": "Annette O'Connell",
      "email": "Domenica.Christiansen@gmail.com"
    },
    {
      "id": "75",
      "name": "Elenor Rohan PhD",
      "email": "Alvera.Huel48@yahoo.com"
    },
    {
      "id": "76",
      "name": "Linnie Beier",
      "email": "Reece_Berge@gmail.com"
    },
    {
      "id": "77",
      "name": "Maybelle Lehner",
      "email": "Arlo.Hagenes@gmail.com"
    },
    {
      "id": "78",
      "name": "Hailie Haag",
      "email": "Edythe.Lind59@hotmail.com"
    },
    {
      "id": "79",
      "name": "Marcelina Schuppe",
      "email": "Kip.Cummerata77@gmail.com"
    },
    {
      "id": "80",
      "name": "Ezra Lang",
      "email": "Garret.Swaniawski@hotmail.com"
    },
    {
      "id": "81",
      "name": "Carey Kiehn",
      "email": "Sabrina70@gmail.com"
    },
    {
      "id": "82",
      "name": "Carole Aufderhar",
      "email": "Efrain.Schamberger77@hotmail.com"
    },
    {
      "id": "83",
      "name": "Fanny Beatty",
      "email": "Ewald28@yahoo.com"
    },
    {
      "id": "84",
      "name": "Mina Lubowitz",
      "email": "Vincenzo.Herman@gmail.com"
    },
    {
      "id": "85",
      "name": "Anabelle Thiel",
      "email": "Amely.Renner@hotmail.com"
    },
    {
      "id": "86",
      "name": "Gerry Homenick",
      "email": "Ada_Von54@hotmail.com"
    },
    {
      "id": "87",
      "name": "Domenico Maggio",
      "email": "Freeman.Stamm@yahoo.com"
    },
    {
      "id": "88",
      "name": "Mauricio Bradtke III",
      "email": "Alford83@yahoo.com"
    },
    {
      "id": "89",
      "name": "Bulah Yost III",
      "email": "Nicolas_Schimmel6@yahoo.com"
    },
    {
      "id": "90",
      "name": "Orville Dibbert DDS",
      "email": "Bryana_Herzog@yahoo.com"
    },
    {
      "id": "91",
      "name": "Autumn Osinski",
      "email": "Davin8@hotmail.com"
    },
    {
      "id": "92",
      "name": "Levi Gibson",
      "email": "Deangelo69@gmail.com"
    },
    {
      "id": "93",
      "name": "Reva McKenzie",
      "email": "Bret40@hotmail.com"
    },
    {
      "id": "94",
      "name": "Jensen Pfannerstill",
      "email": "Dax_Marquardt@hotmail.com"
    },
    {
      "id": "95",
      "name": "Tyrese Larson MD",
      "email": "Cecelia85@yahoo.com"
    },
    {
      "id": "96",
      "name": "Dayne Sanford",
      "email": "Tyrique_Waters16@hotmail.com"
    },
    {
      "id": "97",
      "name": "Jeramy Steuber",
      "email": "Catalina.Stehr24@yahoo.com"
    },
    {
      "id": "98",
      "name": "Madge Bogisich",
      "email": "Joey.Marquardt50@gmail.com"
    },
    {
      "id": "99",
      "name": "Casimer MacGyver",
      "email": "Julius.Bednar96@yahoo.com"
    },
    {
      "id": "100",
      "name": "Arlene Kassulke",
      "email": "Josiane_Smith@yahoo.com"
    }
  ];


let currentActiveItemNo = "";
let preli = "";let nextli = "";

let findListElement=(ele)=>{
  let liItems = document.querySelectorAll('li');
  for(let i=0;i<liItems.length;i++){

    if(ele.innerText.toLowerCase() == liItems[i].innerText.toLowerCase()){
      switch(ele){
        case ele.innerText.toLowerCase().includes('first'):
          preli=liItems[0];
          nextli=liItems[2];
          break;
        case ele.innerText.toLowerCase().includes('last'):
          preli=liItems[liItems.length-1];
          nextli=liItems[liItems.length];          
          break;        
        case parseInt(ele.innerText) == 1:
          preli=liItems[0];
          nextli=liItems[1];
          break;          
        case parseInt(ele.innerText) == emailContacts.length:
          preli=liItems[emailContacts.length-1];
          nextli=liItems[emailContacts.length];
          break;   
        case ele.innerText.toLowerCase().includes('>>') || !ele.innerText.toLowerCase().includes('next'):
        case ele.innerText.toLowerCase().includes('<<') || !ele.innerText.toLowerCase().includes('previous'):
        default:
          if(i>0 && i<13){
            preli=liItems[i-1];
            nextli=liItems[i+1];
          }
      }
    }    
  }
}

let removeAllDisabled=()=>{
  let liItems = document.querySelectorAll('li');
  for(let i=0;i<liItems.length;i++){
    removeDisabledClass(liItems[i]);
  }
}

let removeAllActive=()=>{
  let liItems = document.querySelectorAll('li');
  for(let i=0;i<liItems.length;i++){
    removeActiveClass(liItems[i]);
  }
}

let ClearAllLiNodes=()=>{
  const list = document.querySelector("#ulParent");
  list.innerHTML = "";

}

let renderBasicLiNodes=()=>{

  const list = document.querySelector('#ulParent');

  //First Element
  const newNode = document.createElement('li');
  const liCssAttribute = document.createAttribute('class');
  liCssAttribute.value = 'page-item disabled';
  const liEventAttribute = document.createAttribute('onclick');
  liEventAttribute.value='DisplayContent(this);';
  newNode.setAttributeNode(liCssAttribute);
  newNode.setAttributeNode(liEventAttribute);

  const textNode = document.createElement('a');
  const textData = document.createTextNode('First');
  const aCssAttribute = document.createAttribute('class');
  aCssAttribute.value='page-link';
  textNode.setAttributeNode(aCssAttribute);

  textNode.appendChild(textData);
  newNode.appendChild(textNode);    
  list.appendChild(newNode);

  //Previous Element
  const newPNode = document.createElement('li');
  const liPCssAttribute = document.createAttribute('class');
  liPCssAttribute.value = 'page-item disabled';
  const liPEventAttribute = document.createAttribute('onclick');
  liPEventAttribute.value='DisplayContent(this);';
  newPNode.setAttributeNode(liPCssAttribute);
  newPNode.setAttributeNode(liPEventAttribute);

  const textPNode = document.createElement('a');  
  const aPCssAttribute = document.createAttribute('class');
  aPCssAttribute.value='page-link';
  textPNode.setAttributeNode(aPCssAttribute);

  const aP2CssAttribute = document.createAttribute('aria-label');
  aP2CssAttribute.value='Previous';
  textPNode.setAttributeNode(aP2CssAttribute);

  const spforaNode = document.createElement('span');
  const spPCssAttribute = document.createAttribute('aria-hidden');
  spPCssAttribute.value='true';
  spforaNode.setAttributeNode(spPCssAttribute);
  const sp1textData = document.createTextNode('<<');
  spforaNode.appendChild(sp1textData);

  const sp2foraNode = document.createElement('span');
  const sp2PCssAttribute = document.createAttribute('class');
  sp2PCssAttribute.value='sr-only';
  sp2foraNode.setAttributeNode(sp2PCssAttribute);
  const sp2textData = document.createTextNode('Previous');
  sp2foraNode.appendChild(sp2textData);

  textPNode.appendChild(spforaNode);
  textPNode.appendChild(sp2foraNode);
  newPNode.appendChild(textPNode);  
  list.appendChild(newPNode);  

  //Next Element
  const newNNode = document.createElement('li');
  const liNCssAttribute = document.createAttribute('class');
  liNCssAttribute.value = 'page-item';
  const liNEventAttribute = document.createAttribute('onclick');
  liNEventAttribute.value='DisplayContent(this);';
  newNNode.setAttributeNode(liNCssAttribute);
  newNNode.setAttributeNode(liNEventAttribute);

  const textNNode = document.createElement('a');  
  const aNCssAttribute = document.createAttribute('class');
  aNCssAttribute.value='page-link';
  textNNode.setAttributeNode(aNCssAttribute);

  const aN2CssAttribute = document.createAttribute('aria-label');
  aN2CssAttribute.value='Next';
  textNNode.setAttributeNode(aN2CssAttribute);

  const spforNNode = document.createElement('span');
  const spNCssAttribute = document.createAttribute('aria-hidden');
  spNCssAttribute.value='true';
  spforNNode.setAttributeNode(spNCssAttribute);
//  const sp1NtextData = document.createTextNode(`&raquo;`);
   const sp1NtextData = document.createTextNode('>>');
  spforNNode.appendChild(sp1NtextData);

  const sp2forNNode = document.createElement('span');
  const sp2NCssAttribute = document.createAttribute('class');
  sp2NCssAttribute.value='sr-only';
  sp2forNNode.setAttributeNode(sp2NCssAttribute);
  const sp2NtextData = document.createTextNode('Next');
  sp2forNNode.appendChild(sp2NtextData);

  textNNode.appendChild(spforNNode);
  textNNode.appendChild(sp2forNNode);
  newNNode.appendChild(textNNode);  
  list.appendChild(newNNode);  

  //Last Element
  const newLNode = document.createElement('li');
  const liLCssAttribute = document.createAttribute('class');
  liLCssAttribute.value = 'page-item';
  const liLEventAttribute = document.createAttribute('onclick');
  liLEventAttribute.value='DisplayContent(this);';
  newLNode.setAttributeNode(liLCssAttribute);
  newLNode.setAttributeNode(liLEventAttribute);

  const textLNode = document.createElement('a');
  const textLData = document.createTextNode('Last');
  const aLCssAttribute = document.createAttribute('class');
  aLCssAttribute.value='page-link';
  textLNode.setAttributeNode(aLCssAttribute);

  textLNode.appendChild(textLData);
  newLNode.appendChild(textLNode);    
  list.appendChild(newLNode);


}

let removeDisabledClass=(e)=>{
  e.classList.remove("disabled");
}

let addDisabledClass=(e)=>{
  e.classList.add("disabled");
}

let removeActiveClass=(e)=>{  
  e.classList.remove("active");
}

let addActiveClass=(e)=>{
    e.classList.add("active");  
}


let loadContacts=()=>{  

  renderPagination(1, 10);
  currentContext={  
    'pageno': 1,
    'rows':1,
  }
    BindJsonData(currentContext);
    let liItems = document.querySelectorAll('li');
    for(let i=0;i<liItems.length;i++){
      if(liItems[i].innerText == "1"){
        addActiveClass(liItems[i]);
        break;
      }
    }
    
}  

let renderPagination=(cntStart, cntEnd)=>{ 
  console.log(cntStart, cntEnd);
  ClearAllLiNodes();
  renderBasicLiNodes();
  let insertPosition = 1;
  for(i=cntStart;i<=cntEnd;i++){
    insertPosition++;
    const newNode = document.createElement("li");
    const liCssAttribute = document.createAttribute('class');
    liCssAttribute.value = 'page-item';
    const liEventAttribute = document.createAttribute('onclick');
    liEventAttribute.value='DisplayContent(this);';
    newNode.setAttributeNode(liCssAttribute);
    newNode.setAttributeNode(liEventAttribute);

    const textNode = document.createElement("a");
    const textData = document.createTextNode(`${i}`);
    const aCssAttribute = document.createAttribute('class');
    aCssAttribute.value='page-link';
    textNode.setAttributeNode(aCssAttribute);

    textNode.appendChild(textData);
    newNode.appendChild(textNode);  
    const list = document.querySelector("#ulParent");
    list.insertBefore(newNode, list.children[insertPosition]);
  }  
  
}

  
let BindJsonData = (currentContext)=>{

    //console.log(emailContact.id==currentContext.pageno);
    var item  = emailContacts.find(item => item.id==currentContext.pageno);
    //console.log(item);
    if(item != null){
      currentActiveItemNo = currentContext.pageno;
      DisplayContact(item);
    }
}

let DisplayContent=(ele)=>{
  let getText = ele.innerText;
  console.log(getText);
  findListElement(ele);
  removeAllDisabled();
  console.log(preli.innerText);
  console.log(nextli.innerText);
  if(getText == 'First'){
    getText = 1;        
    renderPagination(getText, getText+10);
    addDisabledClass(nextli);
    addDisabledClass(ele);
  } else if(getText == 'Last'){
      getText = emailContacts.length;
      renderPagination(getText-9, getText);
      addDisabledClass(ele);    
  } else if(getText.includes('>>') || getText.includes('Next')){  
      let nextStart = parseInt(preli.innerText);   
      if(isNaN(nextStart)){
        nextStart = parseInt(currentContext.pageno);
      }
        getText = nextStart + 1;
        if(getText >= 10 && nextStart <emailContacts.length)
        {
          renderPagination(getText-9, getText);
          addActiveClass(nextli);
        }
        else if(getText < 10){
          renderPagination(nextStart, getText+10);
          addActiveClass(nextli);
        }
        else{
          addActiveClass(preli);
      }

  }  else if(getText.includes('<<') || getText.includes('Previous')){  
      let nextStart = parseInt(nextli.innerText);
      if(nextStart == NaN){
        nextStart = parseInt(ele.innerText);
      }
      getText = nextStart - 1;
      if(getText >=1)
      {
        renderPagination(getText, nextStart+9);
        addActiveClass(preli);
      } else if(getText < 1){
        renderPagination(1, 10);
        addActiveClass(nextli);
      }
      else{
        addActiveClass(nextli);
      }
  } 

  currentContext={  
    'pageno': getText,
    'rows':1,
  }

  BindJsonData(currentContext);
  removeAllActive();
  addActiveClass(ele);

}

let DisplayContact=(contact)=>{
  let tableBody = document.querySelector("#tblBody");
  let tableRow = `<tr><td>${contact.id}</td>
                  <td>${contact.name}</td>
                  <td>${contact.email}</td></tr>`;
  tableBody.innerHTML = tableRow;
  let currentItem = document.querySelector('#lblCurrentItem');
  currentItem.innerText = contact.id;
}
